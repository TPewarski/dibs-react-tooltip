!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("classnames"),require("react"));else if("function"==typeof define&&define.amd)define(["classnames","react"],e);else{var o="object"==typeof exports?e(require("classnames"),require("react")):e(t.classnames,t.react);for(var n in o)("object"==typeof exports?exports:t)[n]=o[n]}}(this,function(t,e){return function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,o){var n=10,i={top:{top:-1*t.height-e,left:-1*(t.width/2),triangleTop:t.height},bottom:{top:n+2*e,left:-1*(t.width/2),triangleTop:-1*e},left:{},right:{}};return i[o]}var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),l=o(6),p=o(4),f=o(5),u={top:"m0,0 h10 l-5,10z",left:"",bottom:"m0,10 h10 l-5,-10z",right:""},c={top:"bottom",bottom:"top",left:"right",right:"left"},d=function(t){function e(t){n(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t));return o.state={top:0,left:0,moved:!1,tooltipDirection:t.tooltipDirection,flippedFrom:null},o._el=null,o}return r(e,t),a(e,[{key:"componentDidMount",value:function(){this._el=this.refs.tooltip}},{key:"componentWillReceiveProps",value:function(t){this.setState({tooltipDirection:t.tooltipDirection||this.state.tooltipDirection})}},{key:"componentDidUpdate",value:function(){if(this.props.isVisible&&!this.state.moved){if(this._el&&this._el.childNodes.length){var t=this._el.childNodes[0].getBoundingClientRect();this._adjustPosition(t)}}else!this.props.isVisible&&this.state.moved&&this.setState({moved:!1,flippedFrom:null})}},{key:"_adjustPosition",value:function(t){var e=this,o=this.state.tooltipDirection,n=this.props,i=n.positionThresholds,r=n.triangleSize,a=n.rootPosition,l=s(t,r,o),p={top:function(){return a.y-Math.abs(l.top)},bottom:function(){return window.innerHeight-(a.y+Math.abs(l.top)+t.height)}},f=function(){var t=a.x-Math.abs(l.left);t<i.left&&(l.left-=t-i.left,e.props.onThresholdPassed())},u=function(t){var o=e.state.tooltipDirection;e.setState({tooltipDirection:t,moved:!1,flippedFrom:o}),e.props.onThresholdPassed()},d=function(){return!e.state.flippedFrom||"top"===e.state.flippedFrom},h=function(t,e){if(!t&&d()&&o===e){var n=p[e]();n<i[e]&&(u(c[e]),t=!0)}return t},_=["top","bottom"];_.indexOf(o)>=0&&(f(),_.reduce(h,!1))||this.setState(Object.assign({moved:!0},l))}},{key:"_renderContents",value:function(t,e){var o=this.state.tooltipDirection,n=p[o],i=u[o],r=f(p.inner,this.props.containerClass),s=f(p.triangle,this.props.triangleClass);return l.createElement("div",{className:n,style:t,onClick:this.props.onClick},l.createElement("div",{className:r},this.props.children),l.createElement("svg",{className:s,style:e,width:"10",height:"10"},l.createElement("path",{d:i})))}},{key:"render",value:function(){var t={top:this.state.top,left:this.state.left},e={top:this.state.triangleTop,left:Math.abs(t.left)};return l.createElement("div",{ref:"tooltip"},this.props.isVisible?this._renderContents(t,e):null)}}]),e}(l.Component);d.propTypes={children:l.PropTypes.node,tooltipDirection:l.PropTypes.oneOf(["top","bottom"]),isVisible:l.PropTypes.bool,containerClass:l.PropTypes.string,triangleClass:l.PropTypes.string,triangleSize:l.PropTypes.number,positionThresholds:l.PropTypes.shape({top:l.PropTypes.number,bottom:l.PropTypes.number,left:l.PropTypes.number,right:l.PropTypes.number}),rootPosition:l.PropTypes.shape({x:l.PropTypes.number,y:l.PropTypes.number}).isRequired,onClick:l.PropTypes.func,onThresholdPassed:l.PropTypes.func},d.defaultProps={containerClass:p.defaultStyle,triangleClass:p.defaultTriangle,triangleSize:10,tooltipDirection:"top",positionThresholds:{top:10,bottom:10,left:10,right:10},onClick:function(){},onThresholdPassed:function(){}},t.exports=d},function(t,e,o){e=t.exports=o(2)(),e.push([t.id,".Tooltip__hasShadow___3RLRe{-webkit-filter:drop-shadow(3px 3px 4px #999);filter:drop-shadow(3px 3px 4px #999)}.Tooltip__defaultStyle___2PHGC{background-color:#d8e5f2;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:13px;padding:15px;line-height:1.4;width:250px;span~ul{margin-top:15px}ul{margin-bottom:0;padding-left:1.2em;li{margin-bottom:10px}li:last-child{margin-bottom:0}}}.Tooltip__defaultTriangle___2yE9C{fill:#d8e5f2}.Tooltip__triangle___XBkZH{position:absolute}.Tooltip__container___1iGSw{display:block;cursor:default;position:absolute;z-index:1000}.Tooltip__inner___34nOg{position:relative}",""]),e.locals={hasShadow:"Tooltip__hasShadow___3RLRe",defaultStyle:"Tooltip__defaultStyle___2PHGC",defaultTriangle:"Tooltip__defaultTriangle___2yE9C",triangle:"Tooltip__triangle___XBkZH",container:"Tooltip__container___1iGSw Tooltip__hasShadow___3RLRe",inner:"Tooltip__inner___34nOg",top:"Tooltip__top___3PYiq Tooltip__container___1iGSw Tooltip__hasShadow___3RLRe",bottom:"Tooltip__bottom___3OFAJ Tooltip__container___1iGSw Tooltip__hasShadow___3RLRe"}},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var o=this[e];o[2]?t.push("@media "+o[2]+"{"+o[1]+"}"):t.push(o[1])}return t.join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(n[r]=!0)}for(i=0;i<e.length;i++){var s=e[i];"number"==typeof s[0]&&n[s[0]]||(o&&!s[2]?s[2]=o:o&&(s[2]="("+s[2]+") and ("+o+")"),t.push(s))}},t}},function(t,e,o){function n(t,e){for(var o=0;o<t.length;o++){var n=t[o],i=d[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(p(n.parts[r],e))}else{for(var s=[],r=0;r<n.parts.length;r++)s.push(p(n.parts[r],e));d[n.id]={id:n.id,refs:1,parts:s}}}}function i(t){for(var e=[],o={},n=0;n<t.length;n++){var i=t[n],r=i[0],s=i[1],a=i[2],l=i[3],p={css:s,media:a,sourceMap:l};o[r]?o[r].parts.push(p):e.push(o[r]={id:r,parts:[p]})}return e}function r(t,e){var o=m(),n=y[y.length-1];if("top"===t.insertAt)n?n.nextSibling?o.insertBefore(e,n.nextSibling):o.appendChild(e):o.insertBefore(e,o.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");o.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",r(t,e),e}function p(t,e){var o,n,i;if(e.singleton){var r=b++;o=v||(v=a(e)),n=f.bind(null,o,r,!1),i=f.bind(null,o,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=l(e),n=c.bind(null,o),i=function(){s(o),o.href&&URL.revokeObjectURL(o.href)}):(o=a(e),n=u.bind(null,o),i=function(){s(o)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}function f(t,e,o,n){var i=o?"":n.css;if(t.styleSheet)t.styleSheet.cssText=g(e,i);else{var r=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function u(t,e){var o=e.css,n=e.media;e.sourceMap;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}function c(t,e){var o=e.css,n=(e.media,e.sourceMap);n&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([o],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(i),r&&URL.revokeObjectURL(r)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},_=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=h(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,b=0,y=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=_()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var o=i(t);return n(o,e),function(t){for(var r=[],s=0;s<o.length;s++){var a=o[s],l=d[a.id];l.refs--,r.push(l)}if(t){var p=i(t);n(p,e)}for(var s=0;s<r.length;s++){var l=r[s];if(0===l.refs){for(var f=0;f<l.parts.length;f++)l.parts[f]();delete d[l.id]}}}};var g=function(){var t=[];return function(e,o){return t[e]=o,t.filter(Boolean).join("\n")}}()},function(t,e,o){var n=o(1);"string"==typeof n&&(n=[[t.id,n,""]]);o(3)(n,{});n.locals&&(t.exports=n.locals)},function(e,o){e.exports=t},function(t,o){t.exports=e}])});
//# sourceMappingURL=Tooltip.js.map